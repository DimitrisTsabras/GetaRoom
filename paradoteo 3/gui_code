import javax.swing.*;
import java.awt.*;

public class GetaRoomApp {

    private JFrame frame;
    private CardLayout cardLayout;
    private JPanel mainPanel;

    public static void main(String[] args) {
        EventQueue.invokeLater(() -> {
            try {
                GetaRoomApp window = new GetaRoomApp();
                window.frame.setVisible(true);
            } catch (Exception e) {
                e.printStackTrace();
            }
        });
    }

    public GetaRoomApp() {
        initialize();
    }

    private void initialize() {
        frame = new JFrame();
        frame.setBounds(100, 100, 600, 400);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        cardLayout = new CardLayout();
        mainPanel = new JPanel(cardLayout);
        frame.getContentPane().add(mainPanel, BorderLayout.CENTER);

        createMainMenu();
        createStudentMenu();
        createAdminMenu();
        createUniversityRepMenu();
        createActivityForm();
        createRequestManagementPanel();
    }

    private void createMainMenu() {
        JPanel mainMenu = new JPanel();
        mainPanel.add(mainMenu, "mainMenu");
        mainMenu.setLayout(null);

        JLabel lblWelcome = new JLabel("Καλώς ήρθατε στο GetaRoom!");
        lblWelcome.setFont(new Font("Tahoma", Font.BOLD, 18));
        lblWelcome.setBounds(150, 30, 300, 40);
        mainMenu.add(lblWelcome);

        JButton btnStudent = new JButton("Είσοδος ως Φοιτητής");
        btnStudent.setBounds(200, 100, 200, 40);
        mainMenu.add(btnStudent);

        JButton btnAdmin = new JButton("Είσοδος ως Διαχειριστής");
        btnAdmin.setBounds(200, 160, 200, 40);
        mainMenu.add(btnAdmin);

        JButton btnUniversityRep = new JButton("Είσοδος ως Πανεπιστημιακός Υπεύθυνος");
        btnUniversityRep.setBounds(200, 220, 200, 40);
        mainMenu.add(btnUniversityRep);

        btnStudent.addActionListener(e -> cardLayout.show(mainPanel, "studentMenu"));
        btnAdmin.addActionListener(e -> cardLayout.show(mainPanel, "adminMenu"));
        btnUniversityRep.addActionListener(e -> cardLayout.show(mainPanel, "universityRepMenu"));
    }

    private void createStudentMenu() {
        JPanel studentMenu = new JPanel();
        mainPanel.add(studentMenu, "studentMenu");
        studentMenu.setLayout(null);

        JLabel lblStudentMenu = new JLabel("Μενού Φοιτητή");
        lblStudentMenu.setFont(new Font("Tahoma", Font.BOLD, 18));
        lblStudentMenu.setBounds(250, 30, 200, 40);
        studentMenu.add(lblStudentMenu);

        JButton btnViewActivities = new JButton("Προβολή Δραστηριοτήτων");
        btnViewActivities.setBounds(200, 100, 250, 40);
        studentMenu.add(btnViewActivities);

        JButton btnCommunicationForum = new JButton("Επικοινωνία μέσω του forum");
        btnCommunicationForum.setBounds(200, 160, 250, 40);
        studentMenu.add(btnCommunicationForum);

        JButton btnCreateActivity = new JButton("Δημιουργία Δραστηριότητας");
        btnCreateActivity.setBounds(200, 220, 250, 40);
        studentMenu.add(btnCreateActivity);

        JButton btnLogoutStudent = new JButton("Αποσύνδεση");
        btnLogoutStudent.setBounds(200, 280, 250, 40);
        studentMenu.add(btnLogoutStudent);

        btnViewActivities.addActionListener(e -> cardLayout.show(mainPanel, "viewActivitiesPanel"));
        btnCommunicationForum.addActionListener(e -> cardLayout.show(mainPanel, "forumPanel"));
        btnCreateActivity.addActionListener(e -> cardLayout.show(mainPanel, "activityForm"));
        btnLogoutStudent.addActionListener(e -> {
            // Κώδικας για αποσύνδεση του φοιτητή
            JOptionPane.showMessageDialog(frame, "Αποσύνδεση...");
        });
    }


    private void createAdminMenu() {
        JPanel adminMenu = new JPanel();
        mainPanel.add(adminMenu, "adminMenu");
        adminMenu.setLayout(null);

        JLabel lblAdminMenu = new JLabel("Μενού Διαχειριστή");
        lblAdminMenu.setFont(new Font("Tahoma", Font.BOLD, 18));
        lblAdminMenu.setBounds(200, 30, 200, 40);
        adminMenu.add(lblAdminMenu);

        JButton btnManageContent = new JButton("Διαχείριση Περιεχομένου");
        btnManageContent.setBounds(200, 100, 200, 40);
        adminMenu.add(btnManageContent);

        JButton btnManageRequests = new JButton("Διαχείριση Αιτημάτων Κράτησης");
        btnManageRequests.setBounds(200, 160, 200, 40);
        adminMenu.add(btnManageRequests);

        JButton btnBackToMainFromAdmin = new JButton("Επιστροφή στο Κεντρικό Μενού");
        btnBackToMainFromAdmin.setBounds(200, 220, 200, 40);
        adminMenu.add(btnBackToMainFromAdmin);

        btnManageRequests.addActionListener(e -> cardLayout.show(mainPanel, "requestManagement"));
        btnBackToMainFromAdmin.addActionListener(e -> cardLayout.show(mainPanel, "mainMenu"));
    }

    private void createUniversityRepMenu() {
        JPanel universityRepMenu = new JPanel();
        mainPanel.add(universityRepMenu, "universityRepMenu");
        universityRepMenu.setLayout(null);

        JLabel lblUniversityRepMenu = new JLabel("Μενού Πανεπιστημιακού Υπεύθυνου");
        lblUniversityRepMenu.setFont(new Font("Tahoma", Font.BOLD, 18));
        lblUniversityRepMenu.setBounds(150, 30, 300, 40);
        universityRepMenu.add(lblUniversityRepMenu);

        JButton btnManageSpaces = new JButton("Διαχείριση Χώρων");
        btnManageSpaces.setBounds(200, 100, 200, 40);
        universityRepMenu.add(btnManageSpaces);

        JButton btnBackToMainFromUniRep = new JButton("Επιστροφή στο Κεντρικό Μενού");
        btnBackToMainFromUniRep.setBounds(200, 160, 200, 40);
        universityRepMenu.add(btnBackToMainFromUniRep);

        btnBackToMainFromUniRep.addActionListener(e -> cardLayout.show(mainPanel, "mainMenu"));
    }

    private void createActivityForm() {
        JPanel activityForm = new JPanel();
        mainPanel.add(activityForm, "activityForm");
        activityForm.setLayout(null);

        JLabel lblActivityForm = new JLabel("Δημιουργία Δραστηριότητας");
        lblActivityForm.setFont(new Font("Tahoma", Font.BOLD, 18));
        lblActivityForm.setBounds(150, 30, 300, 40);
        activityForm.add(lblActivityForm);

        JLabel lblTitle = new JLabel("Τίτλος:");
        lblTitle.setBounds(100, 100, 100, 25);
        activityForm.add(lblTitle);

        JTextField txtTitle = new JTextField();
        txtTitle.setBounds(200, 100, 200, 25);
        activityForm.add(txtTitle);

        JLabel lblDescription = new JLabel("Περιγραφή:");
        lblDescription.setBounds(100, 150, 100, 25);
        activityForm.add(lblDescription);

        JTextArea txtDescription = new JTextArea();
        txtDescription.setBounds(200, 150, 200, 75);
        activityForm.add(txtDescription);

        JLabel lblStartTime = new JLabel("Προτεινόμενη Αρχική Ώρα:");
        lblStartTime.setBounds(100, 250, 150, 25);
        activityForm.add(lblStartTime);

        JTextField txtStartTime = new JTextField();
        txtStartTime.setBounds(260, 250, 100, 25);
        activityForm.add(txtStartTime);

        JLabel lblExpectedParticipants = new JLabel("Αναμενόμενος Αριθμός Ατόμων:");
        lblExpectedParticipants.setBounds(100, 300, 200, 25);
        activityForm.add(lblExpectedParticipants);

        JTextField txtExpectedParticipants = new JTextField();
        txtExpectedParticipants.setBounds(300, 300, 100, 25);
        activityForm.add(txtExpectedParticipants);

        JButton btnSubmitActivity = new JButton("Υποβολή");
        btnSubmitActivity.setBounds(320, 350, 100, 40);
        activityForm.add(btnSubmitActivity);

        JButton btnBackToStudentMenu = new JButton("Επιστροφή στο Μενού Φοιτητή");
        btnBackToStudentMenu.setBounds(100, 350, 200, 40);
        activityForm.add(btnBackToStudentMenu);

        btnSubmitActivity.addActionListener(e -> {
            String title = txtTitle.getText();
            String description = txtDescription.getText();
            String startTime = txtStartTime.getText();
            String expectedParticipants = txtExpectedParticipants.getText();
            // Εδώ μπορείς να προσθέσεις τη λογική για την αποθήκευση της δραστηριότητας
            JOptionPane.showMessageDialog(frame, "Η δραστηριότητα '" + title + "' υποβλήθηκε με επιτυχία!");
            txtTitle.setText("");
            txtDescription.setText("");
            txtStartTime.setText("");
            txtExpectedParticipants.setText("");
            cardLayout.show(mainPanel, "studentMenu");
        });

        btnBackToStudentMenu.addActionListener(e -> cardLayout.show(mainPanel, "studentMenu"));
    }


    private void createRequestManagementPanel() {
        JPanel requestManagementPanel = new JPanel();
        mainPanel.add(requestManagementPanel, "requestManagement");
        requestManagementPanel.setLayout(null);

        JLabel lblRequestManagement = new JLabel("Διαχείριση Αιτημάτων Κράτησης");
        lblRequestManagement.setFont(new Font("Tahoma", Font.BOLD, 18));
        lblRequestManagement.setBounds(150, 30, 300, 40);
        requestManagementPanel.add(lblRequestManagement);

        // Placeholder for request list
        DefaultListModel<String> listModel = new DefaultListModel<>();
        // Add some example requests
        listModel.addElement("Αίτημα 1: Κράτηση αίθουσας για μάθημα");
        listModel.addElement("Αίτημα 2: Κράτηση αίθουσας για εκδήλωση");

        JList<String> requestList = new JList<>(listModel);
        requestList.setBounds(100, 100, 400, 150);
        requestManagementPanel.add(requestList);

        JButton btnApproveRequest = new JButton("Έγκριση");
        btnApproveRequest.setBounds(100, 270, 100, 40);
        requestManagementPanel.add(btnApproveRequest);

        JButton btnRejectRequest = new JButton("Απόρριψη");
        btnRejectRequest.setBounds(220, 270, 100, 40);
        requestManagementPanel.add(btnRejectRequest);

        JButton btnBackToAdminMenu = new JButton("Επιστροφή στο Μενού Διαχειριστή");
        btnBackToAdminMenu.setBounds(340, 270, 200, 40);
        requestManagementPanel.add(btnBackToAdminMenu);

        btnApproveRequest.addActionListener(e -> {
            String selectedRequest = requestList.getSelectedValue();
            if (selectedRequest != null) {
                listModel.removeElement(selectedRequest);
                JOptionPane.showMessageDialog(frame, "Το αίτημα '" + selectedRequest + "' εγκρίθηκε.");
            } else {
                JOptionPane.showMessageDialog(frame, "Παρακαλώ επιλέξτε ένα αίτημα για έγκριση.");
            }
        });

        btnRejectRequest.addActionListener(e -> {
            String selectedRequest = requestList.getSelectedValue();
            if (selectedRequest != null) {
                listModel.removeElement(selectedRequest);
                JOptionPane.showMessageDialog(frame, "Το αίτημα '" + selectedRequest + "' απορρίφθηκε.");
            } else {
                JOptionPane.showMessageDialog(frame, "Παρακαλώ επιλέξτε ένα αίτημα για απόρριψη.");
            }
        });

        btnBackToAdminMenu.addActionListener(e -> cardLayout.show(mainPanel, "adminMenu"));
    }
}



